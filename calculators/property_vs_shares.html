<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Property vs Shares | Tepuy Solutions</title>

  <!-- global CSS & favicon -->
  <link rel="stylesheet" href="/css/tepuy.css" />
  <link rel="icon" href="/img/favicon.png" type="image/png" />

  <!-- libs -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://js.stripe.com/v3/"></script>
</head>
<body>

<!-- â”€â”€â”€ NAVBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<header class="navbar">
  <div class="logo-title">
    <img src="/img/tepuy_logo.png" class="logo" alt="Tepuy logo" />
    Tepuy Solutions
  </div>

  <nav class="nav-links" id="navMenu">
    <a class="active" href="/">Home</a>
    <a href="/calculators/property_vs_shares.html">Property&nbsp;vs&nbsp;Shares</a>
    <a href="/calculators/retirement.html">Retirement</a>
    <a href="/store/">Store</a>
    <a href="/blog/">Blog</a>
  </nav>

  <button id="menuToggle" class="hamburger" aria-label="Menu">&#9776;</button>
</header>

<!-- â”€â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="hero">
  <div class="hero-banner">
    <h1>Property Investment vs Shares Calculator</h1>
    <p>Project net-worth growth in real estate versus an index-fund portfolio.</p>
  </div>
</section>

<!-- â”€â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<main class="calc-wrapper">
  <!-- â‘  INPUTS -->
  <form id="investmentForm" class="grid-3col">
    <!-- first column -->
    <label>Loan Amount <input id="loanAmount" value="800,000" /></label>
    <label>Down-payment (%) <input id="downpayment" type="number" value="10" step=".1" /></label>
    <label>Stamp Duty &amp; Costs ($) <input id="buyingCosts" value="48,000" /></label>

    <!-- second column -->
    <label>Loan Period (yrs) <input id="loanPeriod" type="number" value="30" /></label>
    <label>Interest Rate (%) <input id="loanInterestRate" type="number" value="6.5" step=".1" /></label>
    <label>Owning Costs (%/yr) <input id="owningCosts" type="number" value="2" step=".1" /></label>

    <!-- third column -->
    <label>Agent Fees (%/yr) <input id="agentFees" type="number" value="0.2" step=".1" /></label>
    <label>Occupancy Rate (%) <input id="occupancyRate" type="number" value="90" /></label>
    <label>Appreciation Rate (%/yr) <input id="propertyAppreciation" type="number" value="6.5" step=".1" /></label>

    <!-- row 4 -->
    <label>Rental Yield (%/yr) <input id="rentalIncome" type="number" value="4.8" step=".1" /></label>
    <label>Shares Return (%/yr) <input id="stockMarketAppreciation" type="number" value="11" step=".1" /></label>
    <label>Tax Bracket (%) <input id="taxBracket" type="number" value="30" step=".1" /></label>

    <!-- row 5 -->
    <label>Years to Retirement <input id="yearsToRetirement" type="number" value="30" /></label>
    <label>Building Component (%) <input id="buildingComponent" type="number" value="50" /></label>
  </form>

  <button class="btn-primary" id="runCalc">Calculate</button>

  <!-- â‘¡ QUICK OUTPUTS -->
  <div class="grid-2col quick-out">
    <label>LMI (%) <input id="lmiPercentage" readonly /></label>
    <label>LMI ($) <input id="lmiAmount" readonly /></label>
    <label>Buy Price <input id="buyPrice" readonly /></label>
    <label>Total Upfront <input id="totalCashUpfront" readonly /></label>
    <label>Weekly Payment <input id="weeklyPayment" readonly /></label>
  </div>

  <!-- â‘¢ CHART -->
  <div class="chart-wrap" style="height:320px;">
    <canvas id="investmentChart"></canvas>
  </div>

  <!-- â‘£ RESULTS TABLE -->
  <div id="results" class="table-container"></div>

  <p class="disclaimer">Figures are estimates only and do not constitute financial advice.</p>

  <!-- â‘¤ ðŸ”’ SOFT-GATE (always in DOM so JS can find it) -->
  <div class="pro-gate">
    <p class="locked-msg">ðŸ”’ Extra results, CSV export &amp; save-scenario are Pro features.</p>
    <button id="unlockPro" class="btn-primary">Unlock Pro (A$9)</button>
  </div>
</main>

<!-- â”€â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<footer>Â© 2025 Tepuy Solutions. All rights reserved.</footer>

<!-- â”€â”€â”€ SCRIPTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<script src="/js/property_vs_shares_calc.js"></script>

<script>
/* 1. Mobile menu */
document.getElementById('menuToggle').onclick = () =>
  document.getElementById('navMenu').classList.toggle('show');

/* 2. Stripe checkout launcher */
async function startCheckout () {
  const res  = await fetch('/.netlify/functions/createCheckout', { method:'POST' });
  const json = await res.json();
  window.location.href = json.url;
}

/* 3. Soft-gate logic */
const FREE_LIMIT = 3;
const uses  = +localStorage.getItem('pvUses') || 0;
const paid  = localStorage.getItem('pvPaid') === 'yes';

const runBtn = document.getElementById('runCalc');
const proBtn = document.getElementById('unlockPro');

runBtn.onclick = () => {
  if (paid || uses < FREE_LIMIT) {
    window.calculate();
    if (!paid) {
      localStorage.setItem('pvUses', uses + 1);
      if (uses + 1 >= FREE_LIMIT) document.querySelector('.pro-gate').style.display = 'block';
    }
  } else {
    document.querySelector('.pro-gate').style.display = 'block';
  }
};

if (paid) document.querySelector('.pro-gate').style.display = 'none';
proBtn.onclick = startCheckout;
</script>

<!-- minimal in-page styles for the gate -->
<style>
.pro-gate{
  margin-top:32px;padding:24px;border:2px dashed #aaa;border-radius:8px;
  text-align:center;background:#fafafa
}
.pro-gate .locked-msg{margin:0 0 14px;font-weight:600}
.chart-wrap,main.blur{transition:.3s}
</style>
<script>
  const btn = document.getElementById('unlockPro');
  if (btn) {
    btn.onclick = async () => {
      btn.disabled = true;
      try {
        const res = await fetch('/.netlify/functions/createCheckout', { method: 'POST' });
        const json = await res.json();
        if (json.url) {
          window.location.href = json.url;
        } else {
          alert("Stripe checkout failed to return a URL.");
          btn.disabled = false;
        }
      } catch (e) {
        console.error("Stripe checkout error:", e);
        alert("An error occurred while launching checkout.");
        btn.disabled = false;
      }
    };
  }
</script>

</body>
</html>
