<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tepuy Planner ‚Äì Investment Comparison</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon -->
  <link rel="icon" href="/img/favicon.png" type="image/png" />

  <!-- Scoped Planner CSS (not global Tepuy style) -->
  <link rel="stylesheet" href="./planner.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container planner">
    <!-- Branding Header -->
    <header style="display:flex;align-items:center;gap:1rem;margin-bottom:2rem;">
      <img src="/img/tepuy_logo.png" alt="Tepuy Solutions" style="height:40px;" />
      <h1>Tepuy Planner</h1>
    </header>

    <!-- Planner Form -->
    <form id="plannerForm">
      <fieldset>
        <legend>General Info</legend>
        <label>Age: <input type="number" id="age" value="42" /></label>
        <label>Retirement Age: <input type="number" id="retAge" value="67" /></label>
        <label>Annual Salary ($): <input type="number" id="salary" value="130000" /></label>
        <label><input type="checkbox" id="partner" /> Partner (split income for trust)</label>
      </fieldset>

      <fieldset>
        <legend>Property Investment</legend>
        <label>Purchase Price ($): <input type="number" id="propPrice" value="800000" /></label>
        <label>LVR (%): <input type="number" id="propLVR" value="80" /></label>
        <label>Loan Interest Rate (%): <input type="number" id="loanRate" value="6.5" /></label>
        <label>Capital Growth (%/yr): <input type="number" id="propGrowth" value="4" /></label>
        <label>Rent Yield (%/yr): <input type="number" id="rentYield" value="4" /></label>
        <label>Expenses (% of value): <input type="number" id="propExp" value="1.5" /></label>
        <label>Building Component (%): <input type="number" id="buildPct" value="60" /></label>
        <label>Plant/Fixtures (%): <input type="number" id="plantPct" value="10" /></label>
        <label>Sale Costs (%): <input type="number" id="saleCostPct" value="2.5" /></label>
      </fieldset>

      <fieldset>
        <legend>Shares Investment</legend>
        <label>Initial Shares ($): <input type="number" id="sharesInit" value="200000" /></label>
        <label>Annual Return (%): <input type="number" id="sharesRet" value="7" /></label>
        <label>Dividend Yield (%): <input type="number" id="divYield" value="4" /></label>
      </fieldset>

      <fieldset>
        <legend>Structures to Compare</legend>
        <label><input type="checkbox" name="structure" value="IND" checked /> Individual</label>
        <label><input type="checkbox" name="structure" value="TRUST" /> Family Trust</label>
        <label><input type="checkbox" name="structure" value="COMP" /> Company</label>
        <label><input type="checkbox" name="structure" value="SMSF_ACC" disabled /> SMSF ‚Äì Accum.</label>
        <label><input type="checkbox" name="structure" value="SMSF_PENS" disabled /> SMSF ‚Äì Pension</label>
        <label><input type="checkbox" name="structure" value="SHARES" /> Shares Baseline</label>
      </fieldset>

      <!-- Compare Button -->
      <button type="submit">Compare</button>
      <!-- Pro-only buttons -->
      <button type="button" id="btnSave" style="display:none;">üíæ Save</button>
      <button type="button" id="btnCSV" style="display:none;">‚¨áÔ∏è Export CSV</button>
    </form>

    <!-- Chart and Result Table -->
    <canvas id="chart" style="margin-top:3rem;"></canvas>
    <div id="results"></div>
  </div>

  <!-- UI Logic -->
  <script type="module" src="./src/ui.js"></script>
</body>
</html>
